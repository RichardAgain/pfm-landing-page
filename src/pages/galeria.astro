---
import Layout from "../layouts/Layout.astro";
import Header from "../components/ui/alt-header";
import Footer from "../components/footer";
import type { ImageMetadata } from "astro";
import { Picture } from "astro:assets";

const images = Object.values(import.meta.glob<{ default: ImageMetadata }>("/src/assets/gallery/*.{jpg,JPG}", { eager: true })).map((m) => m.default);

---

<Layout>
  <Header />

  <section id="gallery" class="min-h-screen py-12 md:py-24">
    <div class="flex flex-col gap-6 md:gap-8">
      <div class="flex flex-col gap-1">
        <hr class="w-[85%] md:w-[75%] border-2 border-[#F4B400] rounded-full mx-auto" />
        <hr class="w-[85%] md:w-[75%] border-2 border-[#7A1F1F] rounded-full mx-auto" />
        <hr class="w-[85%] md:w-[75%] border-2 border-[#F4B400] rounded-full mx-auto" />
      </div>

      <div class="w-[85%] md:w-[75%] grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 mx-auto">
        {images.map((img, index) => (
          <div class="bg-white transition duration-500 transform cursor-pointer hover:-translate-y-2 hover:shadow-lg">
            <div class="relative group">
              <Picture src={img} alt={`GalerÃ­a ${index + 1}`} loading="lazy" layout="constrained" formats={['avif','webp','jpeg']} class="w-full h-full object-cover" />
              <div class="absolute inset-0 z-5 h-full bg-black opacity-25 group-hover:opacity-0 duration-300 pointer-events-none"></div>
            </div>
          </div>
        ))}
      </div>

      <div class="flex flex-col gap-1">
        <hr class="w-[85%] md:w-[75%] border-2 border-[#F4B400] rounded-full mx-auto" />
        <hr class="w-[85%] md:w-[75%] border-2 border-[#7A1F1F] rounded-full mx-auto" />
        <hr class="w-[85%] md:w-[75%] border-2 border-[#F4B400] rounded-full mx-auto" />
      </div>
    </div>
  </section>

  <Footer />
</Layout>
