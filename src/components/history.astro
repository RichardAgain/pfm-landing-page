---
import { Picture } from "astro:assets";

import image1 from "@assets/history/image1.jpg";
import image2 from "@assets/history/image2.jpg";
import image3 from "@assets/history/image3.jpg";
import image4 from "@assets/history/image4.jpg";
import image5 from "@assets/history/image5.jpg";
---

<section class="flex flex-col w-full">
    <!-- Middle: history text block -->
    <section
        id="historia"
        data-animate-history
        class="relative w-full min-h-110 py-24 md:py-40"
    >
        <div
            class="absolute inset-0 z-0 w-full bg-gradient-to-b from-[#4B0C0C] to-[#7A1F1F] border-t-6 border-white"
        >
        </div>

        <div
            data-animate-history-target
            class="relative inset-0 z-10 flex flex-col w-[85vw] gap-12 mx-auto opacity-0"
        >
            <div class="flex flex-col gap-10">
                <h2
                    class="text-3xl md:text-5xl font-montserrat text-white font-bold text-center md:leading-[7vh]"
                >
                    Nuestra historia, <span class="text-[#BFA760]"
                        >nuestro legado</span>
                </h2>
                <div
                    class="grid md:grid-cols-2 gap-4 md:gap-16 px-4 md:px-8 mx-auto"
                >
                    <div class="flex flex-col gap-4">
                        <p
                            class="md:text-xl font-montserrat text-white text-center md:text-justify"
                        >
                            La <b
                                >Academia Internacional de Música "Maestro José
                                Calabrese"</b
                            > nace un 7 de octubre de 2019. Fundada por el maestro
                            <b>José Carmelo Calabrese</b>, esta academia tiene
                            como objetivo la formación musical y artística
                            integral de los nuevos músicos del Estado Carabobo y
                            Venezuela, creando así, las generaciones de relevo
                            de la <b>Orquesta Sinfónica de Carabobo</b>.
                        </p>
                        <p
                            class="md:text-xl font-montserrat text-white text-center md:text-justify"
                        >
                            Esta institución lleva el nombre del Director
                            Laureado de la <b>Orquesta Sinfónica de Carabobo</b
                            >, maestro <b>José Calabrese</b> (padre). Actualmente
                            cuenta con alianzas estratégicas y académicas con organizaciones
                            en países como Venezuela, Estados Unidos, Colombia y Brasil,
                            además de tener el aval internacional de la UNESCO.
                        </p>
                    </div>
                    <div class="flex flex-col gap-5">
                        <p
                            class="md:text-xl font-montserrat text-white text-center md:text-justify"
                        >
                            La academia se sustenta en la experiencia de casi 50
                            años en la enseñanza y práctica de la música
                            sinfónica de la <b
                                >Fundación Orquesta Sinfónica de Carabobo</b
                            >, en cuyo seno han complementado y desarrollado su
                            formación artística un importante número de músicos
                            y agrupaciones con demostrado talento, algunos de
                            los cuales en su papel de docentes artistas
                            actualmente tienen la responsabilidad de formar a
                            las nuevas generaciones de músicos de la <b>OSC</b>,
                            en el marco de nuestros programas.
                        </p>
                        <p
                            class="text-2xl md:text-4xl font-montserrat text-white font-bold text-center md:text-right py-4 md:py-0 px-0 md:px-6 mt-4 md:mt-0 border-t-3 md:border-t-0 border-r-0 md:border-r-5 border-[#BFA760]"
                        >
                            <i>Formando músicos profesionales</i>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Bottom: left text, right collage -->
    <section
        data-animate-bottom
        class="relative w-full min-h-400 md:min-h-screen"
    >
        <div
            class="absolute inset-0 z-0 grid md:grid-cols-2 w-full border-t-6 border-white"
        >
            <div
                data-animate-bottom-left
                class="flex w-full bg-gradient-to-b from-[#7A5C20] to-[#BFA75A] px-10 md:px-24 items-center opacity-0"
            >
                <div class="flex flex-col gap-8 py-16 md:py-0">
                    <h2
                        class="text-3xl md:text-5xl font-montserrat text-white font-bold text-center md:text-left"
                    >
                        El maestro, <br /> José Calabrese
                    </h2>
                    <div class="flex flex-col gap-4 mx-auto">
                        <p
                            class="font-montserrat text-white text-center md:text-left"
                        >
                            El maestro <b
                                >José Calabrese (Giuseppe Calabrese Di Stefano)</b
                            >, nació en Italia (Módica-Sicilia), el 8 de febrero
                            de 1948 y falleció en Caracas el 21 de diciembre de
                            2018. Fue un Músico Multinstrumentista, Director de
                            Orquesta, Compositor, Arreglista, Gerente Cultural y
                            Educador, nacionalizado como venezolano.
                        </p>
                        <p
                            class="font-montserrat text-white text-center md:text-left"
                        >
                            Llegó a Venezuela a la edad de 7 años, en el año
                            1955. A los 8 años inició sus estudios musicales en
                            Valencia con el maestro italiano Ángelo Inglese,
                            posteriormente estudió en el <b
                                >Conservatorio de Música del Estado Aragua</b
                            > y en <b>Berklee College of Music</b> en la ciudad de
                            Boston de Estados Unidos, donde recibió clases de composición,
                            arreglos, saxofón con profesores como Joseph Viola y John
                            La Porta.
                        </p>
                        <p
                            class="font-montserrat text-white text-center md:text-left"
                        >
                            En Venezuela se resaltan sus estudios de Dirección
                            Orquestal con el Maestro Gonzalo Castellanos. Fundó
                            el <b>Conservatorio de Música de Carabobo </b>
                            y la <b>
                                Fundación Orquesta Sinfónica de Carabobo</b
                            >, además de ser <b
                                >Director Artístico y Musical de la Orquesta
                                Sinfónica de Carabobo por un período de 33 años
                                ininterrumpidos</b
                            >. Desde el 2019 recibió conciertos homenajes en
                            diferentes países como Venezuela, Argentina,
                            Colombia y Brasil.
                        </p>
                    </div>
                </div>
            </div>

            <div
                data-animate-bottom-right
                class="relative w-full h-96 md:h-full border-t-6 md:border-t-0 md:border-l-6 border-white opacity-0"
            >
                <div class="grid grid-cols-2 gap-1">
                    <div class="flex flex-col gap-1">
                        <div class="relative">
                            <Picture
                                src={image2}
                                formats={["webp"]}
                                alt="Maestro José Calabrese"
                                class="w-full md:h-[60.5vh] object-cover"
                            />
                            <div class="absolute inset-0 bg-black/40"></div>
                        </div>
                        <div class="relative">
                            <Picture
                                src={image4}
                                formats={["webp"]}
                                alt="Maestro José Calabrese"
                                class="w-full h-50 md:h-[39.5vh] object-cover"
                            />
                            <div class="absolute inset-0 bg-black/40"></div>
                        </div>
                    </div>

                    <div class="flex flex-col gap-1">
                        <div class="relative">
                            <Picture
                                src={image1}
                                formats={["webp"]}
                                alt="Maestro José Calabrese"
                                class="w-full md:h-[30vh] object-cover"
                            />
                            <div class="absolute inset-0 bg-black/40"></div>
                        </div>
                        <div class="relative">
                            <Picture
                                src={image3}
                                formats={["webp"]}
                                alt="Maestro José Calabrese"
                                class="w-full md:h-[30vh] object-cover"
                            />
                            <div class="absolute inset-0 bg-black/40"></div>
                        </div>
                        <div class="relative">
                            <Picture
                                src={image5}
                                formats={["webp"]}
                                alt="Maestro José Calabrese"
                                class="w-full h-40 md:h-[40vh] object-cover"
                            />
                            <div class="absolute inset-0 bg-black/40"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script>
        // Top: trigger left grid (slide-from-left) and right headline (slide-from-right)
        (function () {
            const root = document.querySelector("[data-animate-top]");
            const left = document.querySelector("[data-animate-top-left]");
            const right = document.querySelector("[data-animate-top-right]");
            if (root && left && right) {
                const obs = new IntersectionObserver(
                    ([entry]) => {
                        if (entry.isIntersecting) {
                            left.classList.remove("opacity-0");
                            left.classList.add("slide-from-left");
                            right.classList.remove("opacity-0");
                            right.classList.add("slide-from-right");
                            obs.disconnect();
                        }
                    },
                    { threshold: 0.1 },
                );
                obs.observe(root);
            }
        })();

        // Middle: history block slides from bottom
        (function () {
            const root = document.querySelector("[data-animate-history]");
            const target = document.querySelector(
                "[data-animate-history-target]",
            );
            if (root && target) {
                const obs = new IntersectionObserver(
                    ([entry]) => {
                        if (entry.isIntersecting) {
                            target.classList.remove("opacity-0");
                            target.classList.add("slide-from-bottom");
                            obs.disconnect();
                        }
                    },
                    { threshold: 0.2 },
                );
                obs.observe(root);
            }
        })();

        // Bottom: trigger left text (slide-from-left) and right collage (slide-from-right)
        (function () {
            const root = document.querySelector("[data-animate-bottom]");
            const left = document.querySelector("[data-animate-bottom-left]");
            const right = document.querySelector("[data-animate-bottom-right]");
            if (root && left && right) {
                const obs = new IntersectionObserver(
                    ([entry]) => {
                        if (entry.isIntersecting) {
                            left.classList.remove("opacity-0");
                            left.classList.add("slide-from-left");
                            right.classList.remove("opacity-0");
                            right.classList.add("slide-from-right");
                            obs.disconnect();
                        }
                    },
                    { threshold: 0.1 },
                );
                obs.observe(root);
            }
        })();
    </script>
</section>
